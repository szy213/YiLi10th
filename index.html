<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€ç²’å·¡æ¼”å…¨çºªå½•</title>
    <style>
        :root {
            --tag-bg: #B8860B;      
            --tag-guest: #525A6B;   
            --tag-special:#8C2222;
            --paper-white: rgba(255, 255, 255, 0.5); 
            --seal-red: #8C2222; 
        }

        /* --- ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ --- */
        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 0;
            background-image: linear-gradient(to bottom, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.2) 25%, transparent 40%), url('images/033de8f0d6622db97e42ea88b4770bba.jpg');
            background-size: 100% auto; background-repeat: no-repeat; background-attachment: scroll; background-position: top center; background-color: #f2f2f2;
            font-family: "STSong", "SimSun", serif; color: #333; line-height: 1.6;
        }
        .header { text-align: center; padding: 120px 20px 60px; }
        .header h1 { letter-spacing: 25px; font-size: 4.5em; margin: 0; color: #262626; margin-right: -25px; }
        .header p { font-size: 1.5em; letter-spacing: 5px; margin-top: 20px; color: #4a4a4a; font-weight: bold; }
        .tour-grid { max-width: 900px; margin: 0 auto; display: flex; flex-direction: column; gap: 160px; padding: 60px 20px 400px; }
        .tour-card { position: relative; background: var(--paper-white); backdrop-filter: blur(5px); padding: 35px; border-left: 2px solid var(--tag-guest); transition: all 0.4s ease; }
        .tour-info { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 25px; border-bottom: 1px solid rgba(0,0,0,0.08); padding-bottom: 12px; }
        .city-name { color: #4a4a4a; font-size: 2em; font-weight: bold; margin-right: 15px; cursor: pointer; }
        .date-num { color:#4a4a4a ; font-size: 1.5em; font-family: "Times New Roman", serif; }
        .tour-guest { font-size:1em; color: #666; letter-spacing: 1px; cursor: pointer; text-decoration: underline dotted; }
        .special-songs-box { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
        .song-tag { padding: 5px 15px; font-size: 12px; border: 1px solid currentColor; letter-spacing: 1px; }
        .song-tag.guest { color: var(--tag-guest); }
        .song-tag.request { color: var(--tag-bg); }
        .song-tag.surprise { color: var(--tag-special); }
        .check-area { font-size: 0.8em; color: #999; text-align: right; font-style: italic; }
        .image-slider { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: 15px; margin: 15px 0 25px 0; padding-bottom: 10px; }
        .image-slider::-webkit-scrollbar { height: 4px; }
        .image-slider::-webkit-scrollbar-thumb { background: var(--tag-guest); border-radius: 10px; }
        .slider-img { flex: 0 0 auto; height: 300px; border-radius: 4px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        #quoteModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.7); z-index: 999; justify-content: center; align-items: center; backdrop-filter: blur(10px); }
        .modal-content { background: #fff; padding: 40px; max-width: 450px; border: 1px solid var(--tag-guest); }
        .modal-text { display: block; margin-bottom: 30px; white-space: pre-line; }
        .close-btn { background: var(--tag-guest); color: #fff; border: none; padding: 12px; cursor: pointer; width: 100%; }
        .music-wrapper { position: fixed; bottom: 30px; right: 30px; display: flex; align-items: center; gap: 10px; z-index: 1000; }
        #bgmSelector { background: var(--paper-white); backdrop-filter: blur(10px); border: 1px solid var(--tag-guest); padding: 5px; border-radius: 5px; font-family: inherit; font-size: 12px; cursor: pointer; opacity: 0; transition: opacity 0.3s; }
        .music-wrapper:hover #bgmSelector { opacity: 1; }
        #musicControl { width: 45px; height: 45px; background: var(--paper-white); border: 1px solid var(--tag-guest); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .rotating { animation: rotate 3s linear infinite; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .special-badge {
            position: absolute;
            top: -10px;
            right: 25px;
            padding: 10px 6px;
            background-color: var(--seal-red);
            color: white;
            font-size: 13px;
            font-weight: bold;
            writing-mode: vertical-rl;
            letter-spacing: 2px;
            z-index: 10;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.15);
        }
        .special-badge::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            border-width: 4px 14px;
            border-style: solid;
            border-color: var(--seal-red) var(--seal-red) transparent var(--seal-red);
        }

        .part-selector {
            text-align: center;
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
            gap: 30px;
        }
        .part-btn {
            font-family: "STSong", "SimSun", serif;
            font-size: 2em;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            color: #666;
            cursor: pointer;
            padding: 5px 15px;
            transition: all 0.3s;
            letter-spacing: 4px;
        }
        .part-btn.active {
            color: var(--tag-guest);
            border-bottom: 2px solid var(--tag-guest);
            font-weight: bold;
        }
        .tour-card.unplayed {
            opacity: 0.8;
            filter: grayscale(0.8);
        }
        .unplayed-label {
            color: var(--tag-bg);
            font-size: 0.8em;
            margin-left: 10px;
        }

        /* æ–°å¢ï¼šComing Soon æ–‡æœ¬æ¡†æ ·å¼ */
        .coming-soon-footer {
            margin-top: 60px;
            padding: 60px;
            border: 2px dashed #ccc;
            background: rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        .cs-text {
            font-size: 2.5em;
            letter-spacing: 15px;
            color: #bbb;
            font-weight: bold;
            opacity: 0.5;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>ä¸€ç²’ Â· å·¡æ¼”å…¨çºªå½•</h1>
    <p> é™ªç€å¦³ çˆ±ç€å¦³ å¸¸å¸¸æƒ³èµ·å¦³ </p>
</div>

<div class="part-selector">
    <button class="part-btn active" onclick="changePart(1, this)">PART I</button>
    <button class="part-btn" onclick="changePart(2, this)">PART II</button>
</div>

<div class="tour-grid" id="mainGrid"></div>

<div class="music-wrapper">
    <select id="bgmSelector" onchange="changeBGM(this.value)">
        <option value="bgm.mp3">æœå®</option>
        <option value="bgm2.mp3">ä¸ç­</option>
        <option value="bgm3.mp3">ä»»æœæš®</option>
        <option value="bgm4.mp3">ç•™ä¸‹</option>
    </select>
    <div id="musicControl" onclick="toggleMusic()">
        <span id="musicIcon">ğŸµ</span>
    </div>
</div>

<audio id="bgMusic" loop><source id="musicSource" src="bgm.mp3" type="audio/mpeg"></audio>

<div id="quoteModal" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div style="font-weight: bold; color: #4a4a4a; margin-bottom: 12px; font-size: 1.2em; letter-spacing: 3px;">å°é™ˆè¯´ï¼š</div>
        <span class="modal-text" id="modalText"></span>
        <button class="close-btn" onclick="closeModal()">OK</button>
    </div>
</div>

<script>
    const quotes = {
        "0726": "0:00ï¼Œåˆé•¿å¤§äº†ä¸€å²\nè°¢è°¢ä½ ä»¬é™ªç€æˆ‘ï¼Œçˆ±ç€æˆ‘ï¼Œå¸¸å¸¸æƒ³èµ·ï¼šæˆ‘ä¹Ÿè®°å¾—ä½ åœ¨å¿ƒé‡Œæ’‘èµ·å¥½å¤šè‰°éš¾æ—¶åˆ»\nğŸ’— \nè°¢è°¢ä½ æ¥.",
        "0727": "æ˜¯... \næœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„äº²æ˜µğŸ \nâ¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸\n love u allâ¤ï¸ï¼",
        "0808": "å›åˆ°ä¸Šæµ·ï¼Œæ›¾ç»åœ¨è¿™é‡Œ ï¼Œ\næœªæ»¡è¶³çš„å¹»æƒ³å’ŒæœŸç›¼\næ±‚è€Œä¸å¾—çš„æœªçŸ¥å’Œè¿·å¹»\nå¸Œæœ›ä»Šå¤©èƒ½å¸®ä½ çŸ­æš‚åœ°å¡«æ»¡\nå¸Œæœ›ä½ æ»¡è½½è€Œå½’ï¼Œ\nè€Œæˆ‘ä¹Ÿç†Ÿè®°äº†ï¼šæ±‚è€Œä¸å¾—æœªå¿…æ˜¯é—æ†¾ã€‚\nğŸˆ2025.8.8",
        "0809": "I, love, Shanghai.",
        "0920": "é¦™é¦™çš„ä¸€æ•´å¤œğŸ«§ \n ä¸€èµ·ï¼Œ \nåœ¨è¿™åŸå¸‚æ¸¸æˆğŸ’•  \nç¡å§æ­å·ğŸ’¤ \n æˆ‘ä¼šè®°å¾—ä»Šå¤©", 
        "0921": "ä»æœªæƒ³è¿‡èƒ½åœ¨æˆ‘è‡ªå·±çš„æ¼”å”±ä¼šä¸Šï¼Œä¸å¾ªç¯äº†æ— æ•°éçš„å£°éŸ³åŒå°ï¼Œå¼€æ¼”å”±ä¼šçœŸå¥½ï¼Œè°¢è°¢å¤§å®¶ï¼Œè°¢è°¢Karenï¼Œè°¢è°¢è¿™ä¸ªç¾å¥½çš„æ™šä¸Šï¼Œå¹¸ç¦æ™•å•¦ï¼",
        "1018": "äººæ½®ï¼Œå‘¼å¸ï¼Œå£°æµªï¼Œå…±æŒ¯ \néŸ³ä¹å¡«æ»¡äº†æˆ‘ä»¬ \næˆ‘ä»¬å¡«æ»¡äº†å¤œæ™š \nç¥ä½ å¿«ä¹ï¼Œå……æ»¡å‹‡æ°”ã€‚ \nğŸˆ \n è°¢è°¢å—äº¬ï¼",
        "1101": "ä»å—èµ°åˆ°åŒ—ï¼Œ \né€”å¾„è¿å¾™çš„é£é¸Ÿã€ç¿©è·¹çš„è½å¶ã€ç–¾é©°çš„åˆ—è½¦ï¼Œ \nåˆ†åˆ«ä»¥å„è‡ªçš„æ–¹å¼å¯»æ‰¾æŸç§é€‚å®œã€‚ \nè°¢è°¢è¥¿å®‰ï¼Œ \næ„¿ä½ ä¹˜å…´è€Œæ¥ï¼Œæ»¡è½½è€Œå½’ã€‚", 
        "1108": "æ¥å»åŒ†åŒ†ä¹‹é—´ï¼Œ \næˆ‘ä»¬æ¬£äºæ‰€é‡ã€‚ \nè™½ç„¶ä¼¸æ‰‹æŠ“ä¸ä½ä¸€é˜µé£ï¼Œ \nä½†è¢«é£æ‰¬èµ·çš„å¿«ä¹å´æ€»æ˜¯é²œæ´»ã€‚ \nè°¢è°¢æµå—ï¼Œ \næ‘Šå¼€æ‰‹æŒï¼Œå¸¦èµ°å¿«ä¹å›å¿†~", 
        "1115": "è®©å†…å¿ƒé©¯åŒ–çš„ç§©åºå¶å°”å¤±æ§ï¼Œ \nå…è®¸è‡ªå·±å è½åœ¨éŸ³ä¹é‡Œã€‚ \næŸ”è½¯çš„ç¾½æ¯›ï¼Œ \nå®‰å…¨ã€æ€¡äººã€ä¸°ç›ˆã€‚",
        "1129": "è°¢è°¢å¦é—¨ğŸŒŠ  \nç›¸æ‹¥çŸ­æš‚ï¼Œä½†éŸ³ä¹æ°¸è¿œæ¸©æŸ”æ•å¼€ã€‚",
        "1206": "æ—¥å…‰æ™’é€äº†æµ·å²¸ï¼Œ \næ´‹æµè¿˜åœ¨ä¸é£å‘¨æ—‹ã€‚ \næˆ‘ä»¬æ˜¯å¤œåŠä¸çœ çš„äººï¼Œ \nå¬éŸ³ä¹è€³è¯­ ï¼Œ \né™ªè§ç«çœ¨çœ¼ã€‚ \nè°¢è°¢æ·±åœ³ï¼Œæˆ‘ä»¬æ˜å¤©è§~",
        "1207": "å±ä½å‘¼å¸ï¼Œ \né—­ä¸Šçœ¼ç›ï¼Œ \nè®©éŸ³ä¹åƒè‡ªç”±è½ä½“ï¼Œ \nåœ¨æ—·é‡ï¼Œåœ¨äººç¾¤ï¼Œåœ¨å¿ƒé‡Œã€‚ \nè°¢è°¢æ·±åœ³,å†¬æ—¥æ¸©æš–çš„èµ äºˆã€‚", 
        "1220": "å››å­£æµè½¬ï¼Œ \né£å¹ã€äº‘åŠ¨ã€ä¸€å¤„è‰é‡ã€‚ \næ—¶åºæ›´è¿­ï¼Œå¤œé•¿ã€æ˜¼çŸ­ã€å‡ é¦–éŸ³ä¹ã€‚ \nè°¢è°¢è‹å·ï¼Œé•¿å¤œå¥½æ¢¦ã€‚", 
        "1231": "ç¯å½¢æ—¶é—´é‡Œï¼Œ \næˆ‘ä»¬å¥”è·‘ï¼Œé©»è¶³ï¼Œå¼ æœ›ã€‚ \nä¸æ—§æˆ‘æ“¦è‚©ï¼Œ \nç‰µèµ·æ˜å¤©çš„æ‰‹æŒã€‚ \nä¸”æ­Œä¸”è¡Œï¼Œå¾ªç€å¾®å…‰ã€‚ \nè°¢è°¢æ­¦æ±‰ï¼Œä¸€èµ·è¸è¿›æ–°çš„ä¸€å¹´ã€‚", 
        "0101": "æ–°å¹´~æ–°çš„æ—¥å…‰ï¼Œæ–°çš„å¸Œæœ›ã€‚ \næ„¿ä½ å¤©çœŸï¼Œå……æ»¡æƒ³è±¡ã€‚ \nå‹‡æ•¢å‡ºå‘ï¼Œä¿æŒå½¢çŠ¶ã€‚ \nè°¢è°¢æ­¦æ±‰ï¼ç»™æˆ‘ä»¬æ–°çš„åŠ›é‡~" 
    };

    const tourData = [
        { 
            id: "0726", city: "åŒ—äº¬", time: "2025.07.26", part: 1, guest: "å˜‰å®¾ï¼šä»»è´¤é½", 
            isSpecial: "ç”Ÿæ—¥åœº",
            personalPics: Array.from({length: 17}, (_, i) => `images/0726 (${i+1}).jpg`),
            guestPics: Array.from({length: 9}, (_, i) => `images/0726guest (${i+1}).jpg`),
            songs: [{n:"è¿‘æ¥å¯å¥½featä»»è´¤é½",t:"guest"},{n:"å¤©æ¶¯",t:"guest"},{n:"æˆ‘æ˜¯ä¸€åªé±¼",t:"guest"},{n:"å°‘å¹´æ—¶ä»£å¿ƒç›®ä¸­çš„è‹±é›„",t:"request"},{n:"é£æ¾",t:"request"},{n:"äº”è¨€",t:"surprise"},{n:"æ¯”å¦‚ä¸–ç•Œ",t:"surprise"},{n:"ä¸ƒæ¥¼",t:"surprise"}] 
        },
        { 
            id: "0727", city: "åŒ—äº¬", time: "2025.07.27", part: 1, guest: "å˜‰å®¾ï¼šæå®‡æ˜¥", 
            personalPics: Array.from({length: 12}, (_, i) => `images/0727 (${i+1}).jpg`),
            guestPics: Array.from({length: 6}, (_, i) => `images/0727guest (${i+1}).jpg`),
            songs: [{n:"ç©ºç©ºfeatæå®‡æ˜¥",t:"guest"},{n:"å†¬æ³³",t:"guest"},{n:"æˆ‘ä»¬å­˜åœ¨ä¸€åˆ¹é‚£çš„å–œæ¬¢",t:"request"},{n:"â˜†",t:"request"},{n:"ä¸ƒæ¥¼",t:"surprise"},{n:"è¿œè¾°",t:"surprise"},{n:"äº”è¨€",t:"surprise"},{n:"çŸ¥æ´²",t:"surprise"}] 
        },
        { 
            id: "0808", city: "ä¸Šæµ·", time: "2025.08.08", part: 1, guest: "å˜‰å®¾ï¼šå¼ ä¿¡å“²", 
            personalPics: Array.from({length: 12}, (_, i) => `images/0808 (${i+1}).jpg`),
            guestPics: Array.from({length: 6}, (_, i) => `images/0808guest (${i+1}).jpg`),
            songs: [{n:"æ¬èµ°featå¼ ä¿¡å“²",t:"guest"},{n:"åˆ«æ€•æˆ‘ä¼¤å¿ƒ",t:"guest"},{n:"æ— æ‰€æ±‚å¿…æ»¡è½½è€Œå½’",t:"request"},{n:"PONY",t:"request"}] 
        },
        { 
            id: "0809", city: "ä¸Šæµ·", time: "2025.08.09", part: 1, guest: "å˜‰å®¾ï¼šé­å¦‚è±", 
            personalPics: Array.from({length: 9}, (_, i) => `images/0809 (${i+1}).jpg`),
            guestPics: Array.from({length: 4}, (_, i) => `images/0809guest (${i+1}).jpg`),
            songs: [{n:"å°åŠ feat é­å¦‚è±",t:"guest"},{n:"have a nice day",t:"guest"},{n:"ä¹”å¦çš„å¿ƒäº‹",t:"request"},{n:"è´ªå¾—",t:"request"},{n:"æ¯”å¦‚ä¸–ç•Œ",t:"surprise"}] 
        },
        { 
            id: "0920", city: "æ­å·", time: "2025.09.20", part: 1, guest: "å˜‰å®¾ï¼šè§æ•¬è…¾", 
            personalPics: Array.from({length: 10}, (_, i) => `images/0920 (${i+1}).jpg`),
            guestPics: Array.from({length: 9}, (_, i) => `images/0920guest (${i+1}).jpg`),
            songs: [{n:"å¥‡å¦™èƒ½åŠ›æ­Œfeatè§æ•¬è…¾",t:"guest"},{n:"æ…¢æ…¢è›®æ»¡",t:"guest"},{n:"æµ·èŠ‹æ‹",t:"guest"},{n:"ç¡å§",t:"request"}] 
        },
        { 
            id: "0921", city: "æ­å·", time: "2025.09.21", part: 1, guest: "å˜‰å®¾ï¼šè«æ–‡è”š", 
            personalPics: Array.from({length: 10}, (_, i) => `images/0921 (${i+1}).jpg`),
            guestPics: Array.from({length: 4}, (_, i) => `images/0921guest (${i+1}).jpg`),
            songs: [{n:"é˜´å¤©+èµ°é©¬featè«æ–‡è”š ",t:"guest"},{n:"å¯‚å¯çš„æ‹äººå•Š",t:"guest"},{n:"éš¾è§£é£æƒ…",t:"request"},{n:"æ—‹æœ¨",t:"request"}] 
        },
        { 
            id: "1018", city: "å—äº¬", time: "2025.10.18", part: 1, guest: "å˜‰å®¾ï¼šè®¸é’§", 
            personalPics: Array.from({length: 11}, (_, i) => `images/1018 (${i+1}).jpg`),
            guestPics: Array.from({length: 9}, (_, i) => `images/1018guest (${i+1}).jpg`),
            songs: [{n:"æ³›çµfeatè®¸é’§",t:"guest"},{n:"çƒ‚æƒ…",t:"guest"},{n:"å‘¨æ¸¸",t:"request"},{n:"å¤ªç©º",t:"request"},{n:"æ¯”å¦‚ä¸–ç•Œ+é£æ¾(æ¸…å”±)",t:"surprise"}] 
        },
        { 
            id: "1101", city: "è¥¿å®‰", time: "2025.11.01", part: 1, guest: "å˜‰å®¾ï¼šå°šé›¯å©•", 
            personalPics: Array.from({length: 10}, (_, i) => `images/1101 (${i+1}).jpg`),
            guestPics: Array.from({length: 7}, (_, i) => `images/1101guest (${i+1}).jpg`),
            songs: [{n:"äº¤å·featå°šé›¯å©•",t:"guest"},{n:"Atypicalå¼‚ç±»",t:"guest"},{n:"æç«¯è€…",t:"guest"},{n:"ä¸”æ…¢",t:"request"},{n:"æœ‰åˆ™æŠ±æŠ±æ— åˆ™ç¬‘ç¬‘",t:"request"},{n:"çŸ¥æ´²",t:"surprise"}] 
        },
        { 
            id: "1108", city: "æµå—", time: "2025.11.08", part: 1, guest: "å˜‰å®¾ï¼šéƒå¯å”¯", 
            personalPics: Array.from({length: 9}, (_, i) => `images/1108 (${i+1}).jpg`),
            guestPics: Array.from({length: 6}, (_, i) => `images/1108guest (${i+1}).jpg`),
            songs: [{n:"è¿›åŒ–featéƒå¯å”¯",t:"guest"},{n:"è·¯è¿‡äººé—´",t:"guest"},{n:"ä»å¤´",t:"request"},{n:"è‡³å°‘è¿˜æœ‰ä½ ",t:"request"},{n:"çŸ¥æ´²",t:"surprise"},{n:"ä¸ƒæ¥¼",t:"surprise"}] 
        },
        { 
            id: "1115", city: "é‡åº†", time: "2025.11.15", part: 1, guest: "å˜‰å®¾ï¼šå¶è““", 
            personalPics: Array.from({length: 9}, (_, i) => `images/1115 (${i+1}).jpg`),
            guestPics: Array.from({length: 6}, (_, i) => `images/1115guest (${i+1}).jpg`),
            songs: [{n:"çˆ±å®Œä¸å®Œfeatå¶è““",t:"guest"},{n:"è’²å…¬è‹±",t:"guest"},{n:"ç‰äººæ­Œ",t:"request"},{n:"æ€ªæƒ…æ­Œ",t:"request"},{n:"æ— çƒŸåŒº",t:"surprise"},{n:"çŸ¥æ´²",t:"surprise"}] 
        },
        { 
            id: "1129", city: "å¦é—¨", time: "2025.11.29", part: 1, guest: "ç‹¬å”±åœº", 
            personalPics: Array.from({length: 9}, (_, i) => `images/1129 (${i+1}).jpg`),
            guestPics: [], 
            songs: [{n:"å¤§è£‚ç¼",t:"request"},{n:"å’Œå¹³",t:"request"},{n:"æ²‰è¿·",t:"surprise"},{n:"ä¹±",t:"surprise"},{n:"é£æ¾",t:"surprise"},{n:"åœ¨æˆ‘çš„é“è·¯ä¸Š",t:"surprise"},{n:"çˆ±å®Œä¸å®Œ",t:"surprise"}] 
        },
        { 
            id: "1206", city: "æ·±åœ³", time: "2025.12.06", part: 1, guest: "å˜‰å®¾ï¼šGAI", 
            personalPics: Array.from({length: 12}, (_, i) => `images/1206 (${i+1}).jpg`),
            guestPics: Array.from({length: 6}, (_, i) => `images/1206guest (${i+1}).jpg`),
            songs: [{n:"å†å†ä¸‡ä¹¡featGAI",t:"guest"},{n:"å…°èŠ±è‰",t:"guest"},{n:"å¤šå¤šç•™æ„",t:"request"},{n:"è¢«åŠ¨",t:"request"},{n:"éš¾è§£é£æƒ…",t:"surprise"},{n:"ä¹±",t:"surprise"}] 
        },
        { 
            id: "1207", city: "æ·±åœ³", time: "2025.12.07", part: 1, guest: "å˜‰å®¾ï¼šä¸‡å¦®è¾¾", 
            personalPics: Array.from({length: 9}, (_, i) => `images/1207 (${i+1}).jpg`),
            guestPics: Array.from({length: 5}, (_, i) => `images/1207guest (${i+1}).jpg`),
            songs: [{n:"å’Œå¹³é¸½featä¸‡å¦®è¾¾",t:"guest"},{n:"ç®—äº†",t:"guest"},{n:"colorful world",t:"guest"},{n:"å››æµ·",t:"request"},{n:"æ³ªæ¡¥",t:"request"},{n:"æ²‰è¿·",t:"surprise"},{n:"ä¹±",t:"surprise"}] 
        },
        { 
            id: "1220", city: "è‹å·", time: "2025.12.20", part: 1, guest: "å˜‰å®¾ï¼šæ¨ä¹ƒæ–‡", 
            personalPics: Array.from({length: 12}, (_, i) => `images/1220 (${i+1}).jpg`),
            guestPics: Array.from({length: 3}, (_, i) => `images/1220guest (${i+1}).jpg`),
            songs: [{n:"å…‰featæ¨ä¹ƒæ–‡",t:"guest"},{n:"æ˜Ÿæ˜Ÿå †æ»¡å¤©",t:"guest"},{n:"æ¸…é€",t:"request"},{n:"äººé—´",t:"request"},{n:"ä¹±",t:"surprise"},{n:"éš¾è§£é£æƒ…",t:"surprise"},{n:"çˆ±å®Œä¸å®Œ",t:"surprise"},{n:"çŸ¥æ´²",t:"surprise"}] 
        },
        { 
            id: "1231", city: "æ­¦æ±‰", time: "2025.12.31", part: 1, guest: "", 
            isSpecial: "è·¨å¹´åœº",
            personalPics: Array.from({length: 11}, (_, i) => `images/1231 (${i+1}).jpg`),
            guestPics: [], 
            songs: [{n:"äº²çˆ±çš„ä½ ",t:"request"},{n:"Best Better Ever",t:"request"},{n:"åº†ç¥",t:"request"},{n:"é“¶æ³°",t:"request"},{n:"ç‹¬è¡Œä¾ ",t:"request"},{n:"ä¹±",t:"surprise"},{n:"æ¯”å¦‚ä¸–ç•Œ",t:"surprise"},{n:"æµ·å¸‚èœƒæ¥¼",t:"surprise"}] 
        },
        { 
            id: "0101", city: "æ­¦æ±‰", time: "2026.01.01", part: 1, guest: "", 
            isSpecial: "å…ƒæ—¦åœº",
            personalPics: Array.from({length: 12}, (_, i) => `images/0101 (${i+1}).jpg`),
            guestPics: [], 
            songs: [{n:"æƒ…æ™¯å‰§",t:"request"},{n:"è¿œæ¸¸",t:"request"},{n:"ä¹å›­",t:"request"},{n:"My Dear Art",t:"request"},{n:"å†åº¦é‡ç›¸é€¢",t:"request"},{n:"ä¹±",t:"surprise"},{n:"å‰§çƒˆ",t:"surprise"}] 
        },
        { 
            id: "0314", city: "æˆéƒ½", time: "2026.03.14", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "0315", city: "æˆéƒ½", time: "2026.03.15", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "1", city: "å®æ³¢", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "2", city: "é’å²›", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "3", city: "æ³‰å·", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "4", city: "åˆè‚¥", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "5", city: "æ²ˆé˜³", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        },
        { 
            id: "6", city: "éƒ‘å·", time: "coming soon", part: 2, status: "unplayed", 
            guest: "",
            personalPics: [], guestPics: [], songs: [] 
        }
    ];

    function showQuote(id) {
        const modal = document.getElementById('quoteModal');
        const text = document.getElementById('modalText');
        if (quotes[id]) {
            text.innerText = quotes[id];
            modal.style.display = 'flex';
        }
    }

    function closeModal() {
        const modal = document.getElementById('quoteModal');
        modal.style.display = 'none';
        document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
    }

    function toggleMusic() {
        const music = document.getElementById('bgMusic');
        const icon = document.getElementById('musicIcon');
        const btn = document.getElementById('musicControl');
        if (music.paused) { music.volume = 0.3; music.play(); icon.innerText = 'ğŸµ'; btn.classList.add('rotating'); }
        else { music.pause(); icon.innerText = 'ğŸ”‡'; btn.classList.remove('rotating'); }
    }

    function changeBGM(newSrc) {
        const music = document.getElementById('bgMusic');
        const source = document.getElementById('musicSource');
        source.src = newSrc; music.load();
        if (!music.paused) music.play();
    }

    function switchPics(id, type) {
        const container = document.getElementById(`slider-${id}`);
        const item = tourData.find(d => d.id === id);
        if (!item) return;
        const pics = type === 'guest' ? item.guestPics : item.personalPics;
        if (pics && pics.length > 0) {
            container.innerHTML = pics.map(src => `<img src="${src}" class="slider-img" alt="å·¡æ¼”å›¾">`).join('');
        }
    }

    let currentPart = 1;

    function changePart(part, btn) {
        currentPart = part;
        document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        render();
        window.scrollTo({ top: 400, behavior: 'smooth' });
    }

    function render() {
        const grid = document.getElementById('mainGrid');
        if(!grid) return;
        grid.innerHTML = '';
        const filteredData = tourData.filter(item => item.part === currentPart);
        filteredData.forEach(item => {
            const card = document.createElement('div');
            card.className = `tour-card ${item.status === 'unplayed' ? 'unplayed' : ''}`;
            const badgeHTML = item.isSpecial ? `<div class="special-badge">${item.isSpecial}</div>` : '';
            const unplayedHTML = item.status === 'unplayed' ? `<span class="unplayed-label">(å·²å®˜å®£Â·æœªå¼€æ¼”)</span>` : '';
            const tags = item.songs.map(s => `<span class="song-tag ${s.t}">${s.n}</span>`).join('');
            card.innerHTML = `
                ${badgeHTML} 
                <div class="tour-info">
                   <span class="tour-date">
                       <span class="city-name" onclick="switchPics('${item.id}', 'personal')">${item.city}</span> 
                       <span class="date-num">${item.time}</span>
                       ${unplayedHTML}
                   </span>
                   <span class="tour-guest" onclick="switchPics('${item.id}', 'guest')">${item.guest}</span>
                </div>
                ${item.personalPics.length > 0 ? `
                    <div class="image-slider" id="slider-${item.id}">
                        ${item.personalPics.map(src => `<img src="${src}" class="slider-img">`).join('')}
                    </div>` : '<div style="height:20px"></div>'}
                <div class="special-songs-box">${tags}</div>
                <div class="check-area">
                    <label style="cursor: pointer;">
                        <input type="checkbox" onchange="if(this.checked) showQuote('${item.id}')"> æˆ‘åœ¨ç°åœº
                    </label>
                </div>
            `;
            grid.appendChild(card);
        });

          }

    window.onload = render;
</script>
</body>
</html>